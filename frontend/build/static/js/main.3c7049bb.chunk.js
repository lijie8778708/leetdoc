(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(t,e,s){},44:function(t,e,s){},45:function(t,e,s){"use strict";s.r(e);var a=s(0),n=s(1),o=s.n(n),i=s(18),r=s.n(i),c=s(4),h=s(5),l=s(3),u=s(7),p=s(6),d=(s(24),s(8)),b=s.n(d),j=(s(43),function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"popup",children:Object(a.jsxs)("div",{className:"popup_inner",align:"center",children:[Object(a.jsx)("h5",{children:this.props.text}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"btn btn-block "+this.props.button,style:{width:"100px"},onClick:this.props.closePopup,children:"Got it"})]})})}}]),s}(o.a.Component)),m=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){var t;return Object(c.a)(this,s),(t=e.call(this)).state={stage:"sign-in",username:"",password:"",showPopup:!1,msg:"",code:0},t.handleInputChange=t.handleInputChange.bind(Object(l.a)(t)),t.handleClick=t.handleClick.bind(Object(l.a)(t)),t.submit=t.submit.bind(Object(l.a)(t)),t}return Object(h.a)(s,[{key:"handleInputChange",value:function(t){var e=t.target.name,s=t.target.value;"username"===e?this.setState({username:s}):this.setState({password:s})}},{key:"handleClick",value:function(){this.props.handler(this.state)}},{key:"submit",value:function(){var t=this;if(""===this.state.username||""==this.state.password)this.setState({msg:"Missing username or password",code:400,showPopup:!this.state.showPopup});else{var e=JSON.stringify({username:this.state.username,password:this.state.password});try{b.a.post("/user/login",e,{headers:{"Content-Type":"application/json"}}).then((function(e){"200"===e.data.code?t.setState({msg:"Welcome!",showPopup:!t.state.showPopup,code:200}):"400"===e.data.code&&t.setState({msg:e.data.data.msg,showPopup:!t.state.showPopup,code:400})}))}catch(s){console.log(s)}}}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup}),200===this.state.code&&this.props.handler("dashboard")}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Login In"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter username",name:"username",value:this.state.username,onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",value:this.state.password,onChange:this.handleInputChange})]}),Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Not Registered Yet"," ",Object(a.jsx)("a",{style:{color:"blue"},onClick:this.handleClick,children:"sign up?"})]}),Object(a.jsx)("button",{className:"btn btn-primary btn-block",onClick:this.submit,children:"Submit"}),this.state.showPopup?Object(a.jsx)(j,{text:this.state.msg,closePopup:this.togglePopup.bind(this),button:200===this.state.code?"btn-primary":"btn-danger"}):null]})}}]),s}(n.Component),g=(s(44),function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){var t;return Object(c.a)(this,s),(t=e.call(this)).state={stage:"sign-up",username:"",password:"",showPopup:!1,msg:"",code:0},t.handleInputChange=t.handleInputChange.bind(Object(l.a)(t)),t.handleClick=t.handleClick.bind(Object(l.a)(t)),t.submit=t.submit.bind(Object(l.a)(t)),t}return Object(h.a)(s,[{key:"handleInputChange",value:function(t){var e=t.target.name,s=t.target.value;"username"===e?this.setState({username:s}):this.setState({password:s})}},{key:"handleClick",value:function(){this.props.handler(this.state)}},{key:"submit",value:function(){var t=this;if(""===this.state.username||""==this.state.password)this.setState({msg:"Missing username or password",code:400,showPopup:!this.state.showPopup});else{var e=JSON.stringify({username:this.state.username,password:this.state.password});try{b.a.put("/user/signup",e,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data.code),"200"===e.data.code?t.setState({msg:"Signed Up!",showPopup:!t.state.showPopup,code:200}):"400"===e.data.code&&t.setState({msg:e.data.data.msg,showPopup:!t.state.showPopup,code:400})}))}catch(s){console.log(s)}}}},{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup}),200===this.state.code&&this.props.handler(this.state)}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Sign Up"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter username",name:"username",value:this.state.username,onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",value:this.state.password,onChange:this.handleInputChange})]}),Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Already registered"," ",Object(a.jsx)("a",{style:{color:"blue"},onClick:this.handleClick,children:"login in?"})]}),Object(a.jsx)("button",{className:"btn btn-primary btn-block",onClick:this.submit,children:"Submit"}),this.state.showPopup?Object(a.jsx)(j,{text:this.state.msg,closePopup:this.togglePopup.bind(this),button:200===this.state.code?"btn-primary":"btn-danger"}):null]})}}]),s}(n.Component)),O=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{children:"ok"})}}]),s}(n.Component);b.a.defaults.baseURL="http://localhost:3040";var w=function(t){Object(u.a)(s,t);var e=Object(p.a)(s);function s(){var t;return Object(c.a)(this,s),(t=e.call(this)).state={stage:0},t.handler=t.handler.bind(Object(l.a)(t)),t}return Object(h.a)(s,[{key:"handler",value:function(t){var e=t.stage;t.param;"sign-in"===e?this.setState({stage:1}):"sign-up"===e?this.setState({stage:0}):this.setState({stage:2})}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"auth-wrapper",children:Object(a.jsxs)("div",{className:"auth-inner",style:{height:"350px",width:"300px"},children:[0===this.state.stage&&Object(a.jsx)(m,{handler:this.handler}),1===this.state.stage&&Object(a.jsx)(g,{handler:this.handler}),2===this.state.stage&&Object(a.jsx)(O,{handler:this.handler})]})})}}]),s}(n.Component);r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.3c7049bb.chunk.js.map